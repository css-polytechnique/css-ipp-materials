<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Techy Notes – CSS@IPP — Tutorials and resources</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-6bd9cfa162949bde0a231f530c97869d.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">CSS@IPP — Tutorials and resources</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="../pages/bertopic-tutorial.html"> 
<span class="menu-text">BERTopic Tutorial</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../pages/information-extraction.html"> 
<span class="menu-text">Information Extraction tutorial</span></a>
  </li>  
</ul>
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="https://www.css.cnrs.fr" target="_blank"> 
<span class="menu-text">CSS@IPP website</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#curations-of-the-original-dataset" id="toc-curations-of-the-original-dataset" class="nav-link active" data-scroll-target="#curations-of-the-original-dataset">Curations of the original dataset</a></li>
  <li><a href="#reduce-outliers-strategies" id="toc-reduce-outliers-strategies" class="nav-link" data-scroll-target="#reduce-outliers-strategies">Reduce outliers strategies</a></li>
  <li><a href="#umap-and-hdbscan-parameter-despcription" id="toc-umap-and-hdbscan-parameter-despcription" class="nav-link" data-scroll-target="#umap-and-hdbscan-parameter-despcription">UMAP and HDBSCAN parameter despcription</a></li>
  <li><a href="#instances-file-size-and-content" id="toc-instances-file-size-and-content" class="nav-link" data-scroll-target="#instances-file-size-and-content">Instances file size and content</a></li>
  <li><a href="#clustering-metrics" id="toc-clustering-metrics" class="nav-link" data-scroll-target="#clustering-metrics">Clustering metrics</a></li>
  <li><a href="#topic-representation-metrics" id="toc-topic-representation-metrics" class="nav-link" data-scroll-target="#topic-representation-metrics">Topic representation metrics</a></li>
  <li><a href="#bibliography" id="toc-bibliography" class="nav-link" data-scroll-target="#bibliography">Bibliography</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Techy Notes</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<section id="curations-of-the-original-dataset" class="level1">
<h1>Curations of the original dataset</h1>
<ul>
<li>select only thesis defended between 2010 and 2022, since information before that time is of lower quality</li>
<li>select thesis where both resumes in english and french exist, as well as the oai code (correspond to the field of the thesis, see <a href="https://doi.org/10.5281/zenodo.17416954">oai_codes.csv in the Zenodo project</a>). (about 37% of the dataset remains, representing about 166k rows).</li>
<li>aggregate the topics (<em>sujets rameaux</em>) together under a single column (previously 53 (!!!))</li>
<li>check that the provided resume under the english column is written in english, and the resumes under the french column are written in french. If the english version is in the french column and vice-versa, swap them.</li>
<li>Finally, only select the rows where the resumes in english are in english and the resumes in french are in french. (36% of the original dataset, representing about 164k rows)</li>
<li>Add an index to the dataset</li>
</ul>
</section>
<section id="reduce-outliers-strategies" class="level1">
<h1>Reduce outliers strategies</h1>
<p>As described in the <a href="XXX">documentation</a>, there are four ways of reducing the number of outliers, ie assigning documents to existing groups. The strategies are listed below</p>
<ul>
<li><em>“probabilities”</em>: HDBSCAN can compute (if you set <code>calculate_probabilities=True</code>) the probability of each document to belong to each topic. A document is assigned the most likely group, given this definition.</li>
<li><em>“distributions”</em>: Use the topic distributions, as calculated with <code>approximate_distribution</code> to find the most frequent topic in each outlier document.</li>
<li><em>“c-tf-idf”</em>: compute the c-TF-IDF representation of each outlier document (ie sparse representation) and assign the document to the group sharing the highest similarity.</li>
<li><em>“embeddings”</em>: find the best matching topic using cosine similarity between the outlier document’s embedding (dense representation) and the topic centroid (ie the mean of the document’s embedding inside a group).</li>
</ul>
<p>We recommend using the <em>“embeddings”</em> as using embeddings offer the richest representation and it is more coherent with NLP tasks.</p>
</section>
<section id="umap-and-hdbscan-parameter-despcription" class="level1">
<h1>UMAP and HDBSCAN parameter despcription</h1>
<div id="tbl-umap-parameters" class="quarto-float quarto-figure quarto-figure-center anchored" data-tbl-colwidths="[10, 20, 20, 20, 40]">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-umap-parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;1: UMAP Parameters table
</figcaption>
<div aria-describedby="tbl-umap-parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Parameter</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Increase</th>
<th style="text-align: left;">Decrease&nbsp;</th>
<th style="text-align: left;">Recommendations</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">⭐️<code>n_neighbors</code><br><em>default 15</em></td>
<td style="text-align: left;">This parameter defines what’s considered as “close”. <a href="#fn1" class="footnote-ref" id="fnref1" role="doc-noteref"><sup>1</sup></a></td>
<td style="text-align: left;">Focus on the global structure (broad topics)</td>
<td style="text-align: left;">Focus on local structures (very specific topics)</td>
<td style="text-align: left;">Start with a rather large value and reduce incrementally until obtaining the desired level of topics specificity</td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>min_dist</code><br><em>default 0.0</em></td>
<td style="text-align: left;">This parameter is “essentially aesthetic”, low values will create denser clusters</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">Keep <code>min_dist=0.0</code></td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>n_components</code><br><em>default 5</em></td>
<td style="text-align: left;">Defines the number of dimensions of the output space.</td>
<td style="text-align: left;">Maintain richer representations.</td>
<td style="text-align: left;">Flatten the representations.</td>
<td style="text-align: left;">Start with <code>n_components=5</code>.<br>Increase when the topic model does not grasp semantic subtelties<br>Decrease when the topic model focuses on non-essential disparities of your corpus.</td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>metrics</code><br><em>default cosine</em></td>
<td style="text-align: left;">This parameter defines the metric used to quantify the similarity between 2 vectors</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">For NLP tasks, we use the cosine metric</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<div id="tbl-hdbscan-parameters" class="quarto-float quarto-figure quarto-figure-center anchored" data-tbl-colwidths="[10, 20, 20, 20, 40]">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-hdbscan-parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;2: HDBSCAN Parameters table
</figcaption>
<div aria-describedby="tbl-hdbscan-parameters-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<colgroup>
<col style="width: 9%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 18%">
<col style="width: 36%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: right;">Parameter</th>
<th style="text-align: left;">Description</th>
<th style="text-align: left;">Increase</th>
<th style="text-align: left;">Decrease&nbsp;</th>
<th style="text-align: left;">Recommendations</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: right;">⭐️<code>min_cluster_size</code><br><em>default 10</em></td>
<td style="text-align: left;">The minimum number of elements in a group to be considered a cluster, otherwise, it’s considered as noise</td>
<td style="text-align: left;">Generate few large and generic groups.</td>
<td style="text-align: left;">Generate many small and highly specific groups.</td>
<td style="text-align: left;">Start with a rather large value and reduce incrementally until obtaining a fine grained topic model<a href="#fn2" class="footnote-ref" id="fnref2" role="doc-noteref"><sup>2</sup></a></td>
</tr>
<tr class="even">
<td style="text-align: right;"><code>min_samples</code><br><em>default None</em></td>
<td style="text-align: left;">The number of samples in a neighbourhood for a point to be considered as a core point</td>
<td style="text-align: left;">The algorithm is conservative, only large groups will remain.</td>
<td style="text-align: left;">Allow for small groups.</td>
<td style="text-align: left;">In our experience, tuning <code>min_cluster_size</code> and leaving <code>min_samples = min_cluster_size</code> is enough for most cases<a href="#fn3" class="footnote-ref" id="fnref3" role="doc-noteref"><sup>3</sup></a>.</td>
</tr>
<tr class="odd">
<td style="text-align: right;"><code>metrics</code><br><em>default eucidean</em></td>
<td style="text-align: left;">This parameter defines the metric used to quantify the distance between 2 docs</td>
<td style="text-align: left;"></td>
<td style="text-align: left;"></td>
<td style="text-align: left;">The metric should not me switched to <code>cosine</code> because we are not working in the embedding space anymore.</td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
</section>
<section id="instances-file-size-and-content" class="level1">
<h1>Instances file size and content</h1>
<table class="caption-top table">
<colgroup>
<col style="width: 27%">
<col style="width: 27%">
<col style="width: 45%">
</colgroup>
<thead>
<tr class="header">
<th>filename (size)</th>
<th>definition</th>
<th style="text-align: center;"><code>save_ctfidf = False</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>config.json</code>(~0.3 KB)</td>
<td>parameters necessary to recreate the BERTopic instance</td>
<td style="text-align: center;">✅</td>
</tr>
<tr class="even">
<td><code>topics.json</code>(~150 KB)</td>
<td>file containing the topic representations (keywords), a list with the topics associated to each document, topic sizes, mapper[^5] and labels</td>
<td style="text-align: center;">✅</td>
</tr>
<tr class="odd">
<td><code>topic_embeddings.safetensors</code> (~350 KB) or <code>topic_embeddings.bin</code> (~450 KB)</td>
<td>the embeddings of the centroids of each topic.<br>shape : <span class="math inline">\((n_{topics}\times dim_{embeddings})\)</span></td>
<td style="text-align: center;">✅</td>
</tr>
<tr class="even">
<td><code>ctfidf_config.json</code> (~2.1 MB)</td>
<td>The configuration to recreate the weighting scheme object (<code>ClassTfidfTransformer</code>) and the vectorizer model (<code>CountVectorizer</code>) including the stop words and the vocabulary with the number of occurrences for for each element.</td>
<td style="text-align: center;">❌</td>
</tr>
<tr class="odd">
<td><code>ctfidf.safetensors</code> (~4 MB) or <code>ctfidf.bin</code> (~4 MB)</td>
<td>the c-TF-IDF representations, a topic x n-grams table.<br>shape: <span class="math inline">\((n_{topics}\times n_{n-grams})\)</span></td>
<td style="text-align: center;">❌</td>
</tr>
</tbody>
</table>
<p><em>Note: the sizes provided correspond to a vectorizer model only counting unigrams. If you account for the bigrams, the size of the files grows exponentially.</em></p>
</section>
<section id="clustering-metrics" class="level1">
<h1>Clustering metrics</h1>
<p>One could choose to focus on evaluating the clustering model to tune the HDBSCAN and UMAP parameters. There exist many metrics for evaluating clustering models that you can find on the <a href="https://scikit-learn.org/stable/modules/clustering.html#clustering-performance-evaluation">scikit-learn website</a>. However, amid the 9 presented, 4 require a ground truth that we don’t have<a href="#fn4" class="footnote-ref" id="fnref4" role="doc-noteref"><sup>4</sup></a>, 3 are ill-suited to HDBSCAN clustering<a href="#fn5" class="footnote-ref" id="fnref5" role="doc-noteref"><sup>5</sup></a> and the two last are good metrics to be optimised.</p>
<p>Hence, we need to find metrics that are relevant to the density-based clustering models such as the DBCV Index (Moulavi et al., 2014)<a href="#fn6" class="footnote-ref" id="fnref6" role="doc-noteref"><sup>6</sup></a> or the DISCO index (Beer et al., 2025).</p>
<p>In our experience, optimising these metrics results in a sub-optimal solutions as illustrated bellow.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/bertopic-tutorial/clustering_metrics-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/bertopic-tutorial/clustering_metrics-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/bertopic-tutorial/clustering_metrics-3.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<p>We don’t really recommend using clustering metrics to evaluate your topic model.</p>
</section>
<section id="topic-representation-metrics" class="level1">
<h1>Topic representation metrics</h1>
<p>Some other metrics assess whether the representations (ie the top <span class="math inline">\(n\)</span> words) are good representations of their groups. These metrics fall into the category of Coherence metrics (Röder et al., 2015) and they rely on a reference corpus to estimate how likely words are to be found together. Multiple metrics exist such as <span class="math inline">\(C_{UCI}\)</span>, <span class="math inline">\(C_{UMass}\)</span> or <span class="math inline">\(C_V\)</span>, and differ from their formulation, but all follow the same structure depicted in <a href="#fig-coherene-framework" class="quarto-xref">Figure&nbsp;1</a>. This framework includes a “Reference Corpus” to evaluate the probability of two words appearing together. <br> These scores were often used to optimise the number of topics for LDA techniques but not to compare two topic models. Also, these metrics do not correlate well with experts’ opinions as explained in the <a href="../pages/bertopic-tutorial.html#quantitative-evaluation">section 5.2</a>.</p>
<div id="fig-coherene-framework" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-coherene-framework-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/bertopic-tutorial/coherence_metrics.png" class="img-fluid quarto-figure quarto-figure-center figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-coherene-framework-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;1: “Figure 1: Overview over the unifying coherence framework&nbsp;— its four parts and their intermediate results.” (Röder et al., 2015)
</figcaption>
</figure>
</div>
<p>If you wanted to implement them, an easy way around is to use the <a href="https://radimrehurek.com/gensim/auto_examples/index.html#documentation">Gensim</a> library and the <a href="https://radimrehurek.com/gensim/models/coherencemodel.html">CoherenceModel</a> object. For reference, we provide some examples of topic models and evaluation, we have not qualitatively evaluated these topic models, apart from <a href="#fig-coherence-metrics-2" class="quarto-xref">Figure&nbsp;2</a> which is presented in <a href="../pages/bertopic-tutorial.html#tune-parameters">Section 4.2</a>.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/bertopic-tutorial/coherence_metrics-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
<div id="fig-coherence-metrics-2" class="quarto-float quarto-figure quarto-figure-center anchored" data-fig-align="center" width="100%,">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-coherence-metrics-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="assets/bertopic-tutorial/coherence_metrics-2.png" id="fig-coherence-metrics-2" class="img-fluid quarto-figure quarto-figure-center anchored figure-img">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig quarto-uncaptioned" id="fig-coherence-metrics-2-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;2
</figcaption>
</figure>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="assets/bertopic-tutorial/coherence_metrics-3.png" class="img-fluid quarto-figure quarto-figure-center figure-img"></p>
</figure>
</div>
</section>
<section id="bibliography" class="level1">
<h1>Bibliography</h1>
<p>Beer, A., Krieger, L., Weber, P., Ritzert, M., Assent, I., &amp; Plant, C. (2025). DISCO : Internal Evaluation of Density-Based Clustering (No.&nbsp;arXiv:2503.00127). arXiv. https://doi.org/10.48550/arXiv.2503.00127</p>
<p>Campello, R. J. G. B., Moulavi, D., &amp; Sander, J. (2013). Density-Based Clustering Based on Hierarchical Density Estimates. Dans J. Pei, V. S. Tseng, L. Cao, H. Motoda, &amp; G. Xu (Éds.), Advances in Knowledge Discovery and Data Mining (Vol. 7819, p.&nbsp;160‑172). Springer Berlin Heidelberg. https://doi.org/10.1007/978-3-642-37456-2_14</p>
<p>Moulavi, D., Jaskowiak, P. A., Campello, R. J. G. B., Zimek, A., &amp; Sander, J. (2014). Density-Based Clustering Validation. Proceedings of the 2014 SIAM International Conference on Data Mining, 839‑847. https://doi.org/10.1137/1.9781611973440.96</p>
<p>Röder, M., Both, A., &amp; Hinneburg, A. (2015). Exploring the Space of Topic Coherence Measures. Proceedings of the Eighth ACM International Conference on Web Search and Data Mining, 399‑408. https://doi.org/10.1145/2684822.2685324</p>


</section>


<div id="quarto-appendix" class="default"><section id="footnotes" class="footnotes footnotes-end-of-document" role="doc-endnotes"><h2 class="anchored quarto-appendix-heading">Footnotes</h2>

<ol>
<li id="fn1"><p>“represents some degree of trade-off between fine grained and large scale manifold features” (McInnes et al., 2018, p23).<a href="#fnref1" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn2"><p><a href="https://hdbscan.readthedocs.io/en/latest/parameter_selection.html#selecting-min-cluster-size">source 1</a>, <a href="https://scikit-learn.org/stable/auto_examples/cluster/plot_hdbscan.html#min-cluster-size">source 2</a><a href="#fnref2" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn3"><p><a href="https://hdbscan.readthedocs.io/en/latest/parameter_selection.html#selecting-min-samples">source 1</a> <a href="https://scikit-learn.org/stable/auto_examples/cluster/plot_hdbscan.html#min-samples">source 2</a><a href="#fnref3" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn4"><p>Rand index, Mutual Information based scores (NMY and AMI), Homogeneity, completeness and V-measure and Fowlkes-Mallows scores.<a href="#fnref4" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn5"><p>Silhouette Coefficient, Calinski-Harabasz index and Davies-Bouldin Index. All are designed to evaluate centroïd-based clustering models (vs density-based clustering models such as HDBSCAN) such as k-Means. This means that the score is generally higher for convex clusters (round-shaped) which we don’t necessarily want.<a href="#fnref5" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
<li id="fn6"><p>The index was designed by the same team that designed HDBSCAN (Campello et al., 2013)<a href="#fnref6" class="footnote-back" role="doc-backlink">↩︎</a></p></li>
</ol>
</section></div></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/css-polytechnique\.github\.io\/css-ipp-materials\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p><img src="./assets/general/crest-logo.png" height="100"></p>
</div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>